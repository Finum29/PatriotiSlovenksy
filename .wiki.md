# Project Summary
The Slovak Patriot project is an advanced online tournament management platform designed to enhance user engagement through competitive events. It enables users to manage tournaments, form teams, and interact in real-time. The platform supports seamless participation via integrated Stripe payment processing for purchasing credits. With a robust PostgreSQL backend, it ensures data persistence and scalability, while also providing an uneditable admin audit log that tracks all administrative actions for improved accountability.

# Project Module Description
- **User Management**: Handles user accounts and authentication.
- **Event Management**: Manages tournaments, registrations, and related data.
- **Team Management**: Stores team details and member information.
- **Transaction Management**: Oversees financial transactions and support tickets.
- **Real-time Features**: Supports chat and notifications via WebSocket.
- **Admin Management**: Tools for managing users and teams, including banning and credit adjustments.
- **Payment System**: Integrates Stripe for credit purchases, offering various credit packages.
- **Admin Audit Log**: Immutable logging of all admin actions, including timestamps and usernames.

# Directory Tree
```
github-deploy/
├── server.js                # Main server implementation with Stripe payment integration
├── db.js                    # Database connection manager with audit log functions
├── package.json             # Project dependencies and scripts
├── .env.example             # Template for environment variables
├── routes/                  # Contains route handlers
│   ├── auth.js              # Authentication routes
│   ├── payment.js           # Payment processing routes
│   └── admin.js             # Admin routes with audit logging
├── public/                  # Contains public-facing files
│   ├── payment-modal.html    # Credit purchase UI
│   └── admin-audit.html      # Audit log viewer UI
└── .gitignore               # Files to ignore in Git
```

# File Description Inventory
- **server.js**: Main server implementation with Stripe integration.
- **db.js**: Manages PostgreSQL database connections and audit log functions.
- **package.json**: Lists project dependencies and scripts.
- **.env.example**: Environment variables template.
- **routes/auth.js**: Handles user authentication routes.
- **routes/payment.js**: Manages payment processing routes.
- **routes/admin.js**: Admin routes with logging for actions.
- **public/payment-modal.html**: User interface for purchasing credits.
- **public/admin-audit.html**: UI for viewing admin audit logs.
- **.gitignore**: Specifies files to ignore in version control.

# Technology Stack
- **Frontend**: Client-side JavaScript.
- **Backend**: Node.js with Express for server-side logic.
- **Database**: PostgreSQL for persistent storage and audit logging.
- **Real-time Features**: WebSocket for chat and notifications.
- **Payment Processing**: Stripe for credit purchases.

# Usage
1. **Install Dependencies**: Ensure PostgreSQL is set up and install the necessary packages.
   ```
   npm install
   ```
2. **Create Environment File**: Set up your `.env` file with the following content:
   ```
   DATABASE_URL=your_postgresql_url
   STRIPE_SECRET_KEY=your_test_secret_key
   STRIPE_WEBHOOK_SECRET=whsec_test_local
   SESSION_SECRET=slovak_patriot_secret_2024
   NODE_ENV=development
   ```
3. **Run the Server**: Start the application.
   ```
   npm start
   ```
